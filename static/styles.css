/* ---------------------------------------------------------------------------
   CSS Variables — ink scale + brand
   Dark theme (default): original ink scale
   Light theme: flipped ink scale so existing Tailwind classes auto-adapt
   --------------------------------------------------------------------------- */
:root {
  --ink-50: #f8f8f7;
  --ink-100: #f0efed;
  --ink-200: #dddbd6;
  --ink-300: #c4c1b9;
  --ink-400: #a09d94;
  --ink-500: #7c786e;
  --ink-600: #5c5850;
  --ink-700: #45423c;
  --ink-800: #2d2b27;
  --ink-900: #1a1917;
  --ink-950: #0d0d0c;
  --brand: #c45d2c;
  --brand-light: #f9e5db;
  --brand-dark: #9e4520;
}

[data-theme="light"] {
  --ink-50: #0d0d0c;
  --ink-100: #1a1917;
  --ink-200: #2d2b27;
  --ink-300: #45423c;
  --ink-400: #5c5850;
  --ink-500: #7c786e;
  --ink-600: #a09d94;
  --ink-700: #c4c1b9;
  --ink-800: #dddbd6;
  --ink-900: #f0efed;
  --ink-950: #f8f8f7;
  --brand: #c45d2c;
  --brand-light: rgba(196, 93, 44, 0.08);
  --brand-dark: #9e4520;
}

/* Tree indentation — depth set via inline style */
.tree-item {
  padding-left: calc(var(--depth, 0) * 16px);
}

/* Active tab styling */
.tab-btn.active {
  color: var(--brand);
}
.tab-btn.active i,
.tab-btn.active span {
  color: inherit;
}

/* Safe area for bottom nav (iPhone notch) */
.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Markdown prose */
.markdown-body {
  line-height: 1.65;
  font-size: 0.925rem;
  color: var(--ink-300);
}
.markdown-body h1, .markdown-body h2, .markdown-body h3,
.markdown-body h4, .markdown-body h5, .markdown-body h6 {
  margin-top: 1.4em;
  margin-bottom: 0.5em;
  font-weight: 700;
  line-height: 1.3;
  color: var(--ink-100);
}
.markdown-body h1 { font-size: 1.5em; }
.markdown-body h2 { font-size: 1.25em; }
.markdown-body h3 { font-size: 1.1em; }
.markdown-body p { margin: 0.6em 0; }
.markdown-body ul, .markdown-body ol { padding-left: 1.5em; margin: 0.5em 0; }
.markdown-body img { max-width: 100%; border-radius: 8px; }
.markdown-body blockquote {
  margin: 0.6em 0;
  padding: 0.4em 1em;
  border-left: 3px solid var(--ink-700);
  color: var(--ink-400);
}
.markdown-body a { color: var(--brand); text-decoration: underline; }
.markdown-body table { border-collapse: collapse; margin: 0.6em 0; width: 100%; }
.markdown-body th, .markdown-body td {
  border: 1px solid var(--ink-700);
  padding: 0.35em 0.7em;
  text-align: left;
  font-size: 0.875rem;
}
.markdown-body th { background: var(--ink-800); font-weight: 600; }

/* Code blocks (highlight.js + markdown) */
pre {
  white-space: pre-wrap;
  overflow-wrap: anywhere;
  background: var(--ink-900);
  border: 1px solid var(--ink-700);
  border-radius: 8px;
  padding: 12px;
  font-size: 0.82rem;
  line-height: 1.55;
}
code {
  font-family: 'JetBrains Mono', ui-monospace, monospace;
  font-size: 0.85em;
}
:not(pre) > code {
  background: var(--ink-800);
  padding: 0.15em 0.35em;
  border-radius: 4px;
  color: var(--ink-200);
}

/* Override highlight.js theme for transparent bg */
.hljs {
  background: transparent !important;
  color: var(--ink-300) !important;
}

/* Scrollbar styling */
.overflow-y-auto::-webkit-scrollbar { width: 5px; }
.overflow-y-auto::-webkit-scrollbar-track { background: transparent; }
.overflow-y-auto::-webkit-scrollbar-thumb {
  background: var(--ink-700);
  border-radius: 3px;
}
.overflow-y-auto::-webkit-scrollbar-thumb:hover { background: var(--ink-600); }

/* Lightbox transition */
#lightbox {
  transition: opacity 0.15s ease;
}

/* Mermaid diagram click hint */
.mermaid svg {
  cursor: pointer;
}
